+++
# --- Basic Metadata ---
id = "TASK-FRONTEND-20250505-201745"
title = "Display Action Text Labels in Market Adaptation Plots"
status = "🟢 Done" # Options: 🧊 Frozen, 🟡 To Do, 🟠 In Progress,  review:🟣 Ready for Review, 🟢 Done, 🔴 Error, ⚪ Blocked
type = "🌟 Feature" # Options: 🌟 Feature, 🐞 Bug, 🛠️ Chore, ❓ Question, 📚 Documentation, 🧪 Test, ⚠️ Issue, 💡 Idea, 🧹 Refactor
created_date = "2025-05-05"
updated_date = "2025-05-05" # Marked Done by Commander after review
# --- Assignment & Coordination ---
assigned_to = "lead-frontend" # Mode slug
coordinator = "roo-commander" # Your mode slug
# --- Relationships ---
parent_task = ""
sub_tasks = []
related_docs = []
related_tasks = ["TASK-DEBUG-20250505-200557"] # Follows the fix for blank plots
# --- Time & Effort ---
estimated_effort = "small"
due_date = ""
# --- Context ---
tags = ["dashboard", "visualization", "frontend", "enhancement", "market-adaptation", "plotting", "labels", "readability"]
# --- Git ---
branch_name = ""
commit_hash = ""
# --- Attachments ---
# attachments = ["path/to/screenshot.png"] # User provided screenshot showing numerical labels
+++

# Display Action Text Labels in Market Adaptation Plots

## 📝 Description

The "Action Distribution" and "Action Transitions" plots in the "Market Adaptation" section currently display numerical action codes (e.g., 0, 1, 2) in their legends and potentially axes/tooltips.

The user requests that these plots display the corresponding descriptive text labels (e.g., "flat", "long", "short") instead, to improve readability.

*(See user-provided image showing numerical labels)*

## ✅ Acceptance Criteria

1.  The "Action Distribution" plot uses text labels ("flat", "long", "short" or similar, based on the actual data mapping) in its legend and/or directly on the chart segments.
2.  The "Action Transitions" plot uses text labels for the actions on its axes or nodes.
3.  The underlying data processing (likely mapping strings to numbers for calculation) should remain functional, but the final *display* should use the text labels.

## 🚶 Checklist

- [✅] Review `dashboard/visualization.py` functions (`create_action_distribution_plot`, `create_action_transition_matrix`).
- [✅] Determine how to access the original string action labels within these functions (e.g., pass them alongside numerical data, use a mapping dictionary).
- [✅] Modify the plotting library calls (e.g., Plotly) to use the string labels for display elements (legends, axes labels, tooltips, node labels).
- [✅] Ensure the numerical mapping used in `dashboard/api.py` (0: flat, 1: long, 2: short - verify this mapping) is correctly reversed for display.
- [ ] Test the updated plots to ensure labels are correct and readable. (Requires visual confirmation)
- [✅] Document changes in the log.

## 🪵 Log

*   2025-05-05 20:17:45 - Task created by roo-commander based on user request for clearer action labels in plots.
*   2025-05-05 20:20:13 - Frontend Lead implemented text labels in `dashboard/visualization.py`.
*   2025-05-05 20:20:37 - Commander Review: Passed. Text labels are displayed correctly in Market Adaptation plots.
*   2025-05-05 20:19:55 - Modified `dashboard/visualization.py` in `create_action_analysis` to map numerical actions (0, 1, 2) to labels ('flat', 'long', 'short') for display in Pie and Sankey charts. Confirmed mapping in `dashboard/api.py`. (lead-frontend)
*   2025-05-05 20:21:06 - Commander Review: Passed. Text labels are displayed correctly in Market Adaptation plots.